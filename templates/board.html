{% extends 'index.html' %}
{% block css %}
	<link rel='stylesheet' href="{{ static_url('css/modules/thread.css') }}">
	<link rel='stylesheet' href="{{ static_url('css/modules/newpost_nodrag.css') }}">
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.13.1/jquery.validate.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.13.1/additional-methods.js"></script>
	<script src='{{static_url("js/posts.js")}}'></script>	
{% end %}
{% block title %}/{{board['short']}}/ - {{board['name']}}{% end %}
{% block catalog %}<a href="/{{board['short']}}/catalog/" class='catalogbtn'>Catalog</a>{% end %}
{% block content %}
	{% block banner %}
		<div id='actual-header'>
			{% if banner %}
				<img src='/{{banner}}' title='banner' data-goto='/{{board["short"]}}' id='bnr'/>
				<br />
			{% end %}
			<h2 id='board-title'>/{{board['short']}}/ - {{board['name']}}</h2>
			<hr>
		</div>
	{% end %}
	{% block add %}
		{% module NewPost(name=board['custom'], admin=admin, show=show) %}
		<script>var nodrag=true;</script>
	{% end %}
	<div class='threads'>
		<hr>
		{% for thread in threads %}
			{% module Thread(thread) %}
			<hr>
		{% end %}
	</div>
	{% if paged %}
	<div class='paginate'>
		<ul>
			<li>
				{% if current == paged[0]['numb'] %}
					<span class='paginate-control disabled'>[PREVIOUS]</span>
				{% else %}
					<a href='{{paged[current-1]["url"]}}'/>
						<span class='paginate-control'>[PREVIOUS]</span>
					</a>
				{% end %}
			</li>
			{% for page in paged %}
				<li>
					{% if page['numb'] == current %}	
						<span class='paginate-control disabled'>[{{page["numb"]}}]</span>
					{% else %}
						<a href='{{page["url"]}}'/>
							<span class='paginate-control'>[{{page["numb"]}}]</span>
						</a>
					{% end %}
				</li>
			{% end %}
			{% if current == paged[-1]['numb'] %}
				<span class='paginate-control disabled'>[NEXT]</span>
			{% else %}
				<a href='{{paged[current+1]["url"]}}'/>
					<span class='paginate-control'>[NEXT]</span>
				</a>
			{% end %}
		</ul>
	</div>
	{% end %}
{% end %}
